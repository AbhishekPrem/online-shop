{"version":3,"sources":["types.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/orderReducers.js","util.js","components/Products.js","actions/productActions.js","actions/cartActions.js","components/Filter.js","components/Cart.js","actions/orderActions.js","App.js","index.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","ADD_TO_CART","REMOVE_FROM_CART","CREATE_ORDER","CLEAR_ORDER","FETCH_ORDERS","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","products","state","action","type","size","payload","filteredItems","items","sort","cart","cartItems","JSON","parse","localStorage","getItem","order","orders","applyMiddleware","thunk","formatCurrency","num","Number","toFixed","toLocaleString","Products","props","openModal","product","setState","closeModal","this","fetchProducts","bottom","cascade","className","map","href","_id","onClick","src","image","alt","title","price","addToCart","isOpen","onRequestClose","description","availableSizes","x","Component","connect","dispatch","a","fetch","res","json","data","console","log","getState","slice","alreadyExists","forEach","count","push","setItem","stringify","Filter","filteredProducts","length","value","onChange","e","sortProducts","target","filterProducts","filter","indexOf","sortedProducts","b","Cart","handleInput","name","createOrder","preventDefault","email","address","total","reduce","c","clearOrder","showCheckout","createdAt","left","item","removeFromCart","right","onSubmit","required","method","headers","body","then","clear","App","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.28c7a49f.chunk.js","sourcesContent":["export const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\r\nexport const FILTER_PRODUCTS_BY_SIZE = \"FILTER_PRODUCTS_BY_SIZE\";\r\nexport const ORDER_PRODUCTS_BY_PRICE = \"ORDER_PRODUCTS_BY_PRICE\";\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const CREATE_ORDER = \"CREATE_ORDER\";\r\nexport const CLEAR_ORDER = \"CLEAR_ORDER\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\nexport const FETCH_ORDERS = \"FETCH_ORDERS\";","  \r\nimport { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { productsReducer } from \"./reducers/productReducers\";\r\nimport { cartReducer } from \"./reducers/cartReducers\";\r\nimport { orderReducer } from \"./reducers/orderReducers\";\r\n\r\nconst initialState = {};\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  combineReducers({\r\n    products: productsReducer,\r\n    cart: cartReducer,\r\n    order: orderReducer,\r\n  }),\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\nexport default store;","import {\r\n    FETCH_PRODUCTS,\r\n    FILTER_PRODUCTS_BY_SIZE,\r\n    ORDER_PRODUCTS_BY_PRICE,\r\n  } from \"../types\";\r\n  \r\n  export const productsReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n      case FILTER_PRODUCTS_BY_SIZE:\r\n        return {\r\n          ...state,\r\n          size: action.payload.size,\r\n          filteredItems: action.payload.items,\r\n        };\r\n      case ORDER_PRODUCTS_BY_PRICE:\r\n        return {\r\n          ...state,\r\n          sort: action.payload.sort,\r\n          filteredItems: action.payload.items,\r\n        };\r\n      case FETCH_PRODUCTS:\r\n        return { items: action.payload, filteredItems: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  };","import { ADD_TO_CART, REMOVE_FROM_CART } from \"../types\";\r\n\r\nexport const cartReducer = (\r\n  state = { cartItems: JSON.parse(localStorage.getItem(\"cartItems\") || \"[]\") },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      return { cartItems: action.payload.cartItems };\r\n    case REMOVE_FROM_CART:\r\n      return { cartItems: action.payload.cartItems };\r\n    default:\r\n      return state;\r\n  }\r\n}","  \r\nimport { CREATE_ORDER, CLEAR_ORDER, FETCH_ORDERS } from \"../types\";\r\n\r\nconst orderReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CREATE_ORDER:\r\n      return { order: action.payload };\r\n    case CLEAR_ORDER:\r\n      return { order: null };\r\n    case FETCH_ORDERS:\r\n      return { orders: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport { orderReducer };","export default function formatCurrency(num) {\r\n    return \"Rs\" + Number(num.toFixed(1)).toLocaleString()+ \" \";\r\n}","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Modal from \"react-modal\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchProducts } from \"../actions/productActions\";\r\nimport { addToCart } from \"../actions/cartActions\";\r\n\r\nclass Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      product: null,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.fetchProducts();\r\n  }\r\n  openModal = (product) => {\r\n    this.setState({ product });\r\n  };\r\n  closeModal = () => {\r\n    this.setState({ product: null });\r\n  };\r\n  render() {\r\n    const { product } = this.state;\r\n    return (\r\n      <div>\r\n        <Fade bottom cascade>\r\n          {!this.props.products ? (\r\n            <div>Loading...</div>\r\n          ) : (\r\n            <ul className=\"products\">\r\n              {this.props.products.map((product) => (\r\n                <li key={product._id}>\r\n                  <div className=\"product\">\r\n                    <a\r\n                      href={\"#\" + product._id}\r\n                      onClick={() => this.openModal(product)}\r\n                    >\r\n                      <img src={product.image} alt={product.title}></img>\r\n                      <p>{product.title}</p>\r\n                    </a>\r\n                    <div className=\"product-price\">\r\n                      <div>{formatCurrency(product.price)}</div>\r\n                      <button\r\n                        onClick={() => this.props.addToCart(product)}\r\n                        className=\"button primary\"\r\n                      >\r\n                        Add To Cart\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </Fade>\r\n        {product && (\r\n          <Modal isOpen={true} onRequestClose={this.closeModal}>\r\n            <Zoom>\r\n              <button className=\"close-modal\" onClick={this.closeModal}>\r\n                x\r\n              </button>\r\n              <div className=\"product-details\">\r\n                <img src={product.image} alt={product.title}></img>\r\n                <div className=\"product-details-description\">\r\n                  <p>\r\n                    <strong>{product.title}</strong>\r\n                  </p>\r\n                  <p>{product.description}</p>\r\n                  <p>\r\n                    Avaiable Sizes:{\" \"}\r\n                    {product.availableSizes.map((x) => (\r\n                      <span>\r\n                        {\" \"}\r\n                        <button className=\"button\">{x}</button>\r\n                      </span>\r\n                    ))}\r\n                  </p>\r\n                  <div className=\"product-price\">\r\n                    <div>{formatCurrency(product.price)}</div>\r\n                    <button\r\n                      className=\"button primary\"\r\n                      onClick={() => {\r\n                        this.props.addToCart(product);\r\n                        this.closeModal();\r\n                      }}\r\n                    >\r\n                      Add To Cart\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  (state) => ({ products: state.products.filteredItems }),\r\n  {\r\n    fetchProducts,\r\n    addToCart,\r\n  }\r\n)(Products);","import { FETCH_PRODUCTS } from \"../types\";\r\nimport { FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"../types\";\r\nexport const fetchProducts = () => async (dispatch) => {\r\n  const res = await fetch(\"/api/products\");\r\n  const data = await res.json();\r\n  console.log(data);\r\n  dispatch({\r\n    type: FETCH_PRODUCTS,\r\n    payload: data,\r\n  });\r\n};\r\n\r\nexport const filterProducts = (products, size) => (dispatch) => {\r\n    dispatch({\r\n      type: FILTER_PRODUCTS_BY_SIZE,\r\n      payload: {\r\n        size: size,\r\n        items:\r\n          size === \"\"\r\n            ? products\r\n            : products.filter((x) => x.availableSizes.indexOf(size) >= 0),\r\n      },\r\n    });\r\n  };\r\n  export const sortProducts = (filteredProducts, sort) => (dispatch) => {\r\n    const sortedProducts = filteredProducts.slice();\r\n    if (sort === \"latest\") {\r\n      sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\r\n    } else {\r\n      sortedProducts.sort((a, b) =>\r\n        sort === \"lowest\"\r\n          ? a.price > b.price\r\n            ? 1\r\n            : -1\r\n          : a.price > b.price\r\n          ? -1\r\n          : 1\r\n      );\r\n    }\r\n    console.log(sortedProducts);\r\n    dispatch({\r\n      type: ORDER_PRODUCTS_BY_PRICE,\r\n      payload: {\r\n        sort: sort,\r\n        items: sortedProducts,\r\n      },\r\n    });\r\n  };","import { ADD_TO_CART, REMOVE_FROM_CART } from \"../types\";\r\n\r\nexport const addToCart = (product) => (dispatch, getState) => {\r\n  const cartItems = getState().cart.cartItems.slice();\r\n  let alreadyExists = false;\r\n  cartItems.forEach((x) => {\r\n    if (x._id === product._id) {\r\n      alreadyExists = true;\r\n      x.count++;\r\n    }\r\n  });\r\n  if (!alreadyExists) {\r\n    cartItems.push({ ...product, count: 1 });\r\n  }\r\n  dispatch({\r\n    type: ADD_TO_CART,\r\n    payload: { cartItems },\r\n  });\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n};\r\n\r\nexport const removeFromCart = (product) => (dispatch, getState) => {\r\n  const cartItems = getState()\r\n    .cart.cartItems.slice()\r\n    .filter((x) => x._id !== product._id);\r\n  dispatch({ type: REMOVE_FROM_CART, payload: { cartItems } });\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n};","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { filterProducts, sortProducts } from \"../actions/productActions\";\r\n\r\nclass Filter extends Component {\r\n  render() {\r\n    return !this.props.filteredProducts ? (\r\n      <div>Loading...</div>\r\n    ) : (\r\n      <div className=\"filter\">\r\n        <div className=\"filter-result\">\r\n          {this.props.filteredProducts.length} Products\r\n        </div>\r\n        <div className=\"filter-sort\">\r\n          Order{\" \"}\r\n          <select\r\n            value={this.props.sort}\r\n            onChange={(e) =>\r\n              this.props.sortProducts(\r\n                this.props.filteredProducts,\r\n                e.target.value\r\n              )\r\n            }\r\n          >\r\n            <option value=\"latest\">Latest</option>\r\n            <option value=\"lowest\">Lowest</option>\r\n            <option value=\"highest\">Highest</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-size\">\r\n          Filter{\" \"}\r\n          <select\r\n            value={this.props.size}\r\n            onChange={(e) =>\r\n              this.props.filterProducts(this.props.products, e.target.value)\r\n            }\r\n          >\r\n            <option value=\"\">ALL</option>\r\n            <option value=\"XS\">XS</option>\r\n            <option value=\"S\">S</option>\r\n            <option value=\"M\">M</option>\r\n            <option value=\"L\">L</option>\r\n            <option value=\"XL\">XL</option>\r\n            <option value=\"XXL\">XXL</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  (state) => ({\r\n    size: state.products.size,\r\n    sort: state.products.sort,\r\n    products: state.products.items,\r\n    filteredProducts: state.products.filteredItems,\r\n  }),\r\n  {\r\n    filterProducts,\r\n    sortProducts,\r\n  }\r\n)(Filter);","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport { removeFromCart } from \"../actions/cartActions\";\r\nimport { createOrder, clearOrder } from \"../actions/orderActions\";\r\n\r\nclass Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      showCheckout: false,\r\n    };\r\n  }\r\n  handleInput = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  createOrder = (e) => {\r\n    e.preventDefault();\r\n    const order = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      address: this.state.address,\r\n      cartItems: this.props.cartItems,\r\n      total: this.props.cartItems.reduce((a, c) => a + c.price * c.count, 0),\r\n    };\r\n    this.props.createOrder(order);\r\n  };\r\n  closeModal = () => {\r\n    this.props.clearOrder();\r\n  };\r\n  render() {\r\n    const { cartItems, order } = this.props;\r\n    return (\r\n      <div>\r\n        {cartItems.length === 0 ? (\r\n          <div className=\"cart cart-header\">Cart is empty</div>\r\n        ) : (\r\n          <div className=\"cart cart-header\">\r\n            You have {cartItems.length} in the cart{\" \"}\r\n          </div>\r\n        )}\r\n\r\n        {order && (\r\n          <Modal isOpen={true} onRequestClose={this.closeModal}>\r\n            <Zoom>\r\n              <button className=\"close-modal\" onClick={this.closeModal}>\r\n                x\r\n              </button>\r\n              <div className=\"order-details\">\r\n                <h3 className=\"success-message\">Your order has been placed.</h3>\r\n                <h2>Order {order._id}</h2>\r\n                <ul>\r\n                  <li>\r\n                    <div>Name:</div>\r\n                    <div>{order.name}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Email:</div>\r\n                    <div>{order.email}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Address:</div>\r\n                    <div>{order.address}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Date:</div>\r\n                    <div>{order.createdAt}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Total:</div>\r\n                    <div>{formatCurrency(order.total)}</div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Cart Items:</div>\r\n                    <div>\r\n                      {order.cartItems.map((x) => (\r\n                        <div>\r\n                          {x.count} {\" x \"} {x.title}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n        <div>\r\n          <div className=\"cart\">\r\n            <Fade left cascade>\r\n              <ul className=\"cart-items\">\r\n                {cartItems.map((item) => (\r\n                  <li key={item._id}>\r\n                    <div>\r\n                      <img src={item.image} alt={item.title}></img>\r\n                    </div>\r\n                    <div>\r\n                      <div>{item.title}</div>\r\n                      <div className=\"right\">\r\n                        {formatCurrency(item.price)} x {item.count}{\" \"}\r\n                        <button\r\n                          className=\"button\"\r\n                          onClick={() => this.props.removeFromCart(item)}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </Fade>\r\n          </div>\r\n          {cartItems.length !== 0 && (\r\n            <div>\r\n              <div className=\"cart\">\r\n                <div className=\"total\">\r\n                  <div>\r\n                    Total:{\" \"}\r\n                    {formatCurrency(\r\n                      cartItems.reduce((a, c) => a + c.price * c.count, 0)\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    onClick={() => {\r\n                      this.setState({ showCheckout: true });\r\n                    }}\r\n                    className=\"button primary\"\r\n                  >\r\n                    Proceed\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {this.state.showCheckout && (\r\n                <Fade right cascade>\r\n                  <div className=\"cart\">\r\n                    <form onSubmit={this.createOrder}>\r\n                      <ul className=\"form-container\">\r\n                        <li>\r\n                          <label>Email</label>\r\n                          <input\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          ></input>\r\n                        </li>\r\n                        <li>\r\n                          <label>Name</label>\r\n                          <input\r\n                            name=\"name\"\r\n                            type=\"text\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          ></input>\r\n                        </li>\r\n                        <li>\r\n                          <label>Address</label>\r\n                          <input\r\n                            name=\"address\"\r\n                            type=\"text\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          ></input>\r\n                        </li>\r\n                        <li>\r\n                          <button className=\"button primary\" type=\"submit\">\r\n                            Checkout\r\n                          </button>\r\n                        </li>\r\n                      </ul>\r\n                    </form>\r\n                  </div>\r\n                </Fade>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    order: state.order.order,\r\n    cartItems: state.cart.cartItems,\r\n  }),\r\n  { removeFromCart, createOrder, clearOrder }\r\n)(Cart);","import { CREATE_ORDER, CLEAR_CART, CLEAR_ORDER, FETCH_ORDERS } from \"../types\";\r\n\r\nexport const createOrder = (order) => (dispatch) => {\r\n  fetch(\"/api/orders\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(order),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      dispatch({ type: CREATE_ORDER, payload: data });\r\n      localStorage.clear(\"cartItems\");\r\n      dispatch({ type: CLEAR_CART });\r\n    });\r\n};\r\nexport const clearOrder = () => (dispatch) => {\r\n  dispatch({ type: CLEAR_ORDER });\r\n};\r\nexport const fetchOrders = () => (dispatch) => {\r\n  fetch(\"/api/orders\")\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      dispatch({ type: FETCH_ORDERS, payload: data });\r\n    });\r\n};","import store from \"./store\";\nimport React from \"react\";\nimport Products from './components/Products';\nimport Filter from \"./components/Filter\";\nimport { Provider } from \"react-redux\";\nimport Cart from \"./components/Cart\";\n\nclass App extends React.Component{\n\n  render(){\n  return (\n    <Provider store={store}>\n    <div className=\"grid-container\">\n        <header>\n          <a href=\"/\">React Shopping Cart</a>\n        </header>\n        <main>\n          <div className=\"content\">\n            <div className=\"main\">\n              <Filter />\n            <Products ></Products>\n            </div>\n            <div className=\"sidebar\">\n            <Cart/>\n            </div>\n          </div>\n        </main>\n        <footer>All Rights Reserved.</footer>\n    </div>\n    </Provider>\n  );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}